<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candidature - UCAO-UUC</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset CSS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f5f0;
            color: #333;
            line-height: 1.6;
        }

        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: #0d1b2a;
            /* Bleu nuit */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: #d4af37;
            /* Or */
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-nav {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .user-nav a,
        .user-nav span {
            text-decoration: none;
            color: #fff;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-nav a:hover {
            color: #d4af37;
            /* Or */
        }

        .burger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
        }

        .burger div {
            width: 25px;
            height: 3px;
            background-color: #fff;
            transition: all 0.3s;
        }

        /* Overlay */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            display: none;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #800020;
            /* Bordeaux */
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        .sidebar {
            width: 250px;
            background-color: #0d1b2a;
            /* Bleu nuit */
            color: #fff;
            padding: 1.5rem 0;
            transition: all 0.3s ease;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 0.5rem;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 0.8rem 1.5rem;
            color: #ecf0f1;
            text-decoration: none;
            transition: all 0.3s;
            gap: 0.8rem;
        }

        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background-color: #1b263b;
            border-left: 4px solid #d4af37;
            /* Or */
        }

        .main-content {
            flex: 1;
            padding: 2rem;
            background-color: #f8f5f0;
        }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            color: #7f8c8d;
        }

        .breadcrumb a {
            color: #0d1b2a;
            /* Bleu nuit */
            text-decoration: none;
        }

        .breadcrumb a:hover {
            color: #800020;
            /* Bordeaux */
        }

        /* State Messages */
        .state-message,
        .status-message {
            text-align: center;
            padding: 3rem 2rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .state-icon,
        .status-icon {
            font-size: 3rem;
            color: #d4af37;
            /* Or */
            margin-bottom: 1rem;
        }

        .state-title,
        .status-title {
            color: #0d1b2a;
            /* Bleu nuit */
            margin-bottom: 1rem;
        }

        .state-description,
        .status-description {
            color: #7f8c8d;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .state-actions,
        .status-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
            text-decoration: none;
        }

        .btn-primary {
            background-color: #800020;
            /* Bordeaux */
            color: white;
        }

        .btn-primary:hover {
            background-color: #600018;
        }

        .btn-secondary {
            background-color: #0d1b2a;
            /* Bleu nuit */
            color: white;
        }

        .btn-secondary:hover {
            background-color: #1b263b;
        }

        /* Candidature Header */
        .candidature-header {
            background: linear-gradient(135deg, #800020, #0d1b2a);
            /* Bordeaux to Bleu nuit */
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .candidature-title {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .candidature-subtitle {
            opacity: 0.9;
        }

        /* Loading State */
        .loading-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .loading-state .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #800020;
            /* Bordeaux */
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        /* Eligibility Alert */
        .eligibility-alert {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 4px solid #e74c3c;
        }

        .alert-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #e74c3c;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .alert-description {
            margin-bottom: 1.5rem;
            color: #7f8c8d;
        }

        /* Form Section */
        .form-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .form-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #0d1b2a;
            /* Bleu nuit */
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #f0e6d2;
            padding-bottom: 0.5rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #0d1b2a;
            /* Bleu nuit */
        }

        .form-label.required:after {
            content: " *";
            color: #e74c3c;
        }

        .form-input,
        .form-textarea {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            font-size: 1rem;
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #800020;
            /* Bordeaux */
            box-shadow: 0 0 0 2px rgba(128, 0, 32, 0.1);
        }

        .form-help {
            font-size: 0.8rem;
            color: #7f8c8d;
            margin-top: 0.3rem;
        }

        /* Image Upload */
        .image-upload {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 5px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover,
        .upload-area.dragover {
            border-color: #800020;
            /* Bordeaux */
            background-color: #fff5f5;
        }

        .upload-icon {
            font-size: 2rem;
            color: #7f8c8d;
            margin-bottom: 0.5rem;
        }

        .upload-text {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }

        .upload-hint {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .upload-preview {
            display: none;
            position: relative;
            max-width: 200px;
            margin: 0 auto;
        }

        .preview-image {
            width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .remove-image {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: #e74c3c;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 0.8rem;
        }

        /* Form Actions */
        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #eee;
        }

        /* Candidates Section */
        .candidates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .candidate-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border-top: 4px solid #d4af37;
            /* Or */
        }

        .candidate-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .candidate-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, #0d1b2a, #1b263b);
            /* Bleu nuit gradient */
            color: white;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .candidate-image {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #d4af37;
            /* Or */
        }

        .candidate-info {
            flex: 1;
        }

        .candidate-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .candidate-details {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .candidate-body {
            padding: 1.5rem;
        }

        .candidate-slogan {
            font-style: italic;
            color: #800020;
            /* Bordeaux */
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 500;
        }

        .candidate-program {
            color: #7f8c8d;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .view-program-link {
            color: #800020;
            /* Bordeaux */
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.9rem;
        }

        .view-program-link:hover {
            text-decoration: underline;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            color: #7f8c8d;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #bdc3c7;
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: #0d1b2a;
            /* Bleu nuit */
        }

        /* Candidate Modal */
        .candidate-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .candidate-modal-content {
            background-color: white;
            width: 90%;
            max-width: 700px;
            margin: 2rem auto;
            border-radius: 10px;
            padding: 2rem;
            position: relative;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
        }

        .close-modal:hover {
            color: #0d1b2a;
            /* Bleu nuit */
        }

        .candidate-modal-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }

        .candidate-modal-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #d4af37;
            /* Or */
        }

        .candidate-modal-info {
            flex: 1;
        }

        .candidate-modal-name {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #0d1b2a;
            /* Bleu nuit */
        }

        .candidate-modal-slogan {
            font-style: italic;
            color: #800020;
            /* Bordeaux */
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .candidate-modal-section {
            margin-bottom: 2rem;
        }

        .candidate-modal-section h4 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #0d1b2a;
            /* Bleu nuit */
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .candidate-modal-content-text {
            line-height: 1.6;
            color: #555;
            white-space: pre-line;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background-color: #0d1b2a;
            /* Bleu nuit */
            color: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 2000;
            border-left: 4px solid #d4af37;
            /* Or */
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            background-color: #2e7d32;
        }

        .toast.error {
            background-color: #c62828;
        }

        .toast.warning {
            background-color: #ef6c00;
        }

        /* Loading States */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            color: #7f8c8d;
        }

        .loading .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #800020;
            /* Bordeaux */
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .sidebar {
                width: 200px;
            }

            .state-actions,
            .status-actions,
            .form-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }

            .user-nav a:not(:last-child) {
                display: none;
            }

            .burger {
                display: flex;
            }

            .dashboard-container {
                flex-direction: column;
            }

            .sidebar {
                position: fixed;
                top: 0;
                left: -250px;
                height: 100vh;
                z-index: 1000;
                width: 250px;
            }

            .sidebar.active {
                left: 0;
            }

            .main-content {
                padding: 1rem;
            }

            .overlay.active {
                display: block;
            }

            .candidates-grid {
                grid-template-columns: 1fr;
            }

            .candidate-modal-header {
                flex-direction: column;
                text-align: center;
            }

            .candidate-modal-image {
                width: 80px;
                height: 80px;
            }
        }

        @media (max-width: 576px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .candidature-header {
                padding: 1.5rem;
            }

            .candidature-title {
                font-size: 1.5rem;
            }

            .form-section {
                padding: 1.5rem;
            }

            .candidate-modal-content {
                width: 95%;
                padding: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="logo"><i class="fa-solid fa-graduation-cap"></i> UCAO-UUC</div>
        <div class="user-nav">
            <span><i class="fa-solid fa-user"></i> <span id="userName">Étudiant</span></span>
            <a href="profile.html"><i class="fa-solid fa-user"></i> Profil</a>
            <a href="#" id="logoutBtn"><i class="fa-solid fa-right-from-bracket"></i> Déconnexion</a>
        </div>
        <div class="burger" id="burger">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </header>

    <div class="overlay" id="overlay"></div>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="dashboard-container">
        <aside class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><i class="fa-solid fa-house"></i> Accueil</a></li>
                <li><a href="candidature.html" class="active"><i class="fa-solid fa-file-signature"></i>
                        Candidature</a></li>
                <li><a href="elections.html"><i class="fa-solid fa-list"></i> Élections</a></li>
                <li><a href="mes-candidatures.html"><i class="fa-solid fa-list"></i> Mes Candidatures</a></li>
                <li><a href="vote.html"><i class="fa-solid fa-check"></i> Voter</a></li>
                <li><a href="resultats.html"><i class="fa-solid fa-chart-bar"></i> Résultats</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <a href="dashboard.html"><i class="fa-solid fa-house"></i> Accueil</a>
                <i class="fa-solid fa-chevron-right"></i>
                <span>Candidature</span>
            </div>

            <!-- Message d'état quand aucune élection n'est spécifiée -->
            <div class="state-message" id="noElectionMessage">
                <div class="state-icon">
                    <i class="fa-solid fa-hand-point-right"></i>
                </div>
                <h2 class="state-title">Aucune élection sélectionnée</h2>
                <p class="state-description">
                    Pour soumettre une candidature, vous devez d'abord sélectionner une élection.
                    Veuillez choisir une élection dans la liste disponible.
                </p>
                <div class="state-actions">
                    <a href="elections.html" class="btn btn-primary">
                        <i class="fa-solid fa-list"></i>
                        Voir les élections
                    </a>
                    <a href="dashboard.html" class="btn btn-secondary">
                        <i class="fa-solid fa-house"></i>
                        Retour à l'accueil
                    </a>
                </div>
            </div>

            <!-- Candidature Header -->
            <div class="candidature-header" id="candidatureHeader">
                <h1 class="candidature-title" id="electionTitle">Déposer sa candidature</h1>
                <p class="candidature-subtitle" id="electionSubtitle">Remplissez le formulaire pour soumettre votre
                    candidature</p>
            </div>

            <!-- Indicateur de chargement -->
            <div class="loading-state" id="loadingState">
                <div class="spinner"></div>
                <p>Chargement des informations de l'élection...</p>
            </div>

            <!-- Eligibility Alert -->
            <div class="eligibility-alert" id="eligibilityAlert">
                <div class="alert-title">
                    <i class="fa-solid fa-exclamation-triangle"></i>
                    Non éligible
                </div>
                <div class="alert-description" id="eligibilityMessage">
                    Vous n'êtes pas éligible pour cette élection.
                </div>
                <div class="alert-actions">
                    <a href="elections.html" class="btn btn-secondary">
                        <i class="fa-solid fa-arrow-left"></i>
                        Retour aux élections
                    </a>
                </div>
            </div>

            <!-- Candidature Form -->
            <div class="form-section" id="candidatureForm">
                <h2 class="form-title"><i class="fa-solid fa-pen-to-square"></i> Formulaire de candidature</h2>

                <form id="candidatureFormElement">
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label class="form-label">Élection</label>
                            <input type="text" class="form-input" id="electionName" readonly>
                        </div>

                        <div class="form-group">
                            <label for="slogan" class="form-label required">Slogan de campagne</label>
                            <input type="text" id="slogan" class="form-input" placeholder="Votre slogan accrocheur"
                                required maxlength="100">
                            <div class="form-help">Maximum 100 caractères</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">Photo de profil</label>
                            <div class="image-upload">
                                <div class="upload-area" id="uploadArea">
                                    <div class="upload-icon">
                                        <i class="fa-solid fa-cloud-arrow-up"></i>
                                    </div>
                                    <div class="upload-text">Glissez-déposez votre photo ici ou cliquez pour
                                        sélectionner</div>
                                    <div class="upload-hint">Formats acceptés: JPG, PNG (max. 2MB)</div>
                                    <input type="file" id="photoUpload" accept="image/jpeg,image/png"
                                        style="display: none;">
                                </div>
                                <div class="upload-preview" id="uploadPreview">
                                    <img src="" alt="Aperçu" class="preview-image" id="previewImage">
                                    <div class="remove-image" id="removeImage">Supprimer l'image</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label for="program" class="form-label required">Programme électoral</label>
                            <textarea id="program" class="form-textarea"
                                placeholder="Décrivez votre programme, vos propositions et vos engagements..." required
                                minlength="50" maxlength="2000"></textarea>
                            <div class="form-help">Minimum 50 caractères, maximum 2000 caractères</div>
                        </div>

                        <div class="form-group full-width">
                            <label for="motivation" class="form-label required">Lettre de motivation</label>
                            <textarea id="motivation" class="form-textarea"
                                placeholder="Expliquez pourquoi vous êtes le meilleur candidat pour ce poste..."
                                required minlength="100" maxlength="1000"></textarea>
                            <div class="form-help">Minimum 100 caractères, maximum 1000 caractères</div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">
                            <i class="fa-solid fa-xmark"></i>
                            Annuler
                        </button>
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            <i class="fa-solid fa-paper-plane"></i>
                            Soumettre ma candidature
                        </button>
                    </div>
                </form>
            </div>

            <!-- Section Liste des Candidats -->
            <div class="form-section" id="candidatesSection">
                <h2 class="form-title"><i class="fa-solid fa-users"></i> Candidats à cette élection</h2>

                <div id="candidatesList">
                    <div class="loading" id="candidatesLoading">
                        <div class="spinner"></div>
                        <p>Chargement des candidats...</p>
                    </div>
                </div>

                <div class="empty-state" id="noCandidatesMessage">
                    <i class="fa-solid fa-user-slash"></i>
                    <h3>Aucun candidat pour le moment</h3>
                    <p>Soyez le premier à postuler pour cette élection !</p>
                </div>
            </div>

            <!-- Status Message -->
            <div class="status-message" id="statusMessage">
                <div class="status-icon">
                    <i class="fa-solid fa-hourglass-half"></i>
                </div>
                <h2 class="status-title">Candidature en attente de validation</h2>
                <p class="status-description">
                    Votre candidature a été soumise avec succès et est maintenant en attente de validation par
                    l'administration. Vous serez notifié par email une fois que votre candidature aura été examinée.
                </p>
                <div class="status-actions">
                    <a href="dashboard.html" class="btn btn-primary">
                        <i class="fa-solid fa-house"></i>
                        Retour à l'accueil
                    </a>
                    <a href="mes-candidatures.html" class="btn btn-secondary">
                        <i class="fa-solid fa-list"></i>
                        Voir mes candidatures
                    </a>
                    <a href="elections.html" class="btn btn-secondary">
                        <i class="fa-solid fa-list"></i>
                        Voir les autres élections
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal pour les détails du candidat -->
    <div class="candidate-modal" id="candidateModal">
        <div class="candidate-modal-content" id="candidateModalContent"></div>
    </div>

    <div class="toast" id="toast">
        <i class="fa-solid fa-circle-check" id="toastIcon"></i>
        <span id="toastMessage"></span>
    </div>
    <script src="/assets/config.js"></script>
    <script>
        // Configuration et constantes
        const API_URL = CONFIG.BASE_URL;
        const TOKEN = localStorage.getItem('token');

        // Variables globales pour cette page
        let currentElection = null;
        let uploadedImageUrl = null;
        let electionCandidates = [];

        // Fonctions utilitaires pour les appels API
        async function apiCall(endpoint, options = {}) {
            const url = `${API_URL}/api${endpoint}`;

            const defaultOptions = {
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${TOKEN}`
                }
            };

            const config = { ...defaultOptions, ...options };

            try {
                const response = await fetch(url, config);

                if (!response.ok) {
                    throw new Error(`Erreur HTTP: ${response.status}`);
                }

                return await response.json();
            } catch (error) {
                console.error('Erreur API:', error);
                throw error;
            }
        }

        // Services
        // Services
        const ElectionService = {
            async getElectionDetails(id) {
                return await apiCall(`/elections/${id}`);
            },

            getElectionStatus(election) {
                const now = new Date();
                const startCandidature = new Date(election.dateDebutCandidature);
                const endCandidature = new Date(election.dateFinCandidature);

                if (now < startCandidature) return 'upcoming';
                if (now > endCandidature) return 'ended';
                return 'active';
            },

            getDelegueTypeLabel(type) {
                const types = {
                    'titulaire': 'Titulaire',
                    'suppleant': 'Suppléant',
                    'delegue': 'Délégué',
                    'bde': 'Bureau des Étudiants'
                };
                return types[type] || type;
            },

            getElectionTypeLabel(type) {
                const types = {
                    'SALLE': 'Responsable de Salle',
                    'ECOLE': 'Délégué d\'École',
                    'UNIVERSITE': 'Délégué Universitaire'
                };
                return types[type] || type;
            }
        };

        const CandidateService = {
            async getCandidates(electionId) {
                return await apiCall(`/candidats/election/${electionId}`);
            },

            async isCandidate(electionId) {
                try {
                    const response = await apiCall(`/candidats/is-candidate/${electionId}`);
                    return response.isCandidate || false;
                } catch (error) {
                    console.error('Erreur vérification candidature:', error);
                    return false;
                }
            },

            async submitCandidature(data) {
                return await apiCall('/candidats', {
                    method: 'POST',
                    body: JSON.stringify(data)
                });
            }
        };

        const UserService = {
            async getProfile() {
                return await apiCall('/users/profile');
            }
        };

        const EligibilityService = {
            canCandidate(userProfile, election) {
                // Vérifications basiques d'éligibilité
                if (!userProfile) return false;

                // Vérifier si l'utilisateur fait partie du bon groupe
                if (election.filiere && userProfile.filiere !== election.filiere) {
                    return false;
                }

                if (election.annee && userProfile.annee !== election.annee) {
                    return false;
                }

                // Vérifier si l'élection est active
                const status = ElectionService.getElectionStatus(election);
                if (status !== 'active') {
                    return false;
                }

                return true;
            },

            getEligibilityMessage(userProfile, election) {
                if (!userProfile) return 'Profil utilisateur non disponible';

                if (election.filiere && userProfile.filiere !== election.filiere) {
                    return `Cette élection est réservée aux étudiants de la filière ${election.filiere}.`;
                }

                if (election.annee && userProfile.annee !== election.annee) {
                    return `Cette élection est réservée aux étudiants de ${election.annee} année.`;
                }

                const status = ElectionService.getElectionStatus(election);
                if (status !== 'active') {
                    return 'Cette élection n\'est pas ouverte aux candidatures pour le moment.';
                }

                return 'Vous n\'êtes pas éligible pour cette élection.';
            }
        };

        // Composant CandidateCard
        const CandidateCard = {
            create(candidate, options = {}) {
                return `
                    <div class="candidate-card" data-candidate-id="${candidate.id}">
                        <div class="candidate-header">
                            <img src="${candidate.photoUrl || 'https://via.placeholder.com/60'}" 
                                 alt="${candidate.prenom} ${candidate.nom}" 
                                 class="candidate-image"
                                 onerror="this.src='https://via.placeholder.com/60'">
                            <div class="candidate-info">
                                <div class="candidate-name">${candidate.prenom} ${candidate.nom}</div>
                                <div class="candidate-details">${candidate.filiere || 'Non spécifié'} - Année ${candidate.annee || 'N/A'}</div>
                            </div>
                        </div>
                        <div class="candidate-body">
                            <div class="candidate-slogan">"${candidate.slogan}"</div>
                            <div class="candidate-program">${candidate.programme ? candidate.programme.substring(0, 150) + '...' : 'Aucun programme disponible'}</div>
                            ${options.showViewProfile ? `
                                <a class="view-program-link" data-candidate-id="${candidate.id}">
                                    <i class="fa-solid fa-eye"></i> Voir le profil complet
                                </a>
                            ` : ''}
                        </div>
                    </div>
                `;
            }
        };

        // Fonctions d'affichage
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastIcon = document.getElementById('toastIcon');
            const toastMessage = document.getElementById('toastMessage');

            // Changer l'icône selon le type
            switch (type) {
                case 'success':
                    toastIcon.className = 'fa-solid fa-circle-check';
                    break;
                case 'error':
                    toastIcon.className = 'fa-solid fa-circle-exclamation';
                    break;
                case 'warning':
                    toastIcon.className = 'fa-solid fa-triangle-exclamation';
                    break;
            }

            toastMessage.textContent = message;
            toast.className = `toast ${type} show`;

            // Cacher après 3 secondes
            setTimeout(() => {
                toast.className = 'toast';
            }, 3000);
        }

        // Initialisation de la page
        document.addEventListener('DOMContentLoaded', async function () {
            // Vérifier que l'utilisateur est connecté
            if (!localStorage.getItem('token')) {
                window.location.href = '/user/login';
                return;
            }

            // Initialiser le menu burger
            const burger = document.getElementById('burger');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');

            burger.addEventListener('click', function () {
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            });

            overlay.addEventListener('click', function () {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
            });

            // Gestion de la déconnexion
            document.getElementById('logoutBtn').addEventListener('click', function (e) {
                e.preventDefault();
                localStorage.removeItem('token');
                localStorage.removeItem('userProfile');
                window.location.href = '/user/login';
            });

            // Mettre à jour le nom d'utilisateur
            updateUserWelcome();

            // Masquer tous les états initialement
            hideAllSections();

            // Vérifier si une élection est spécifiée dans l'URL
            const urlParams = new URLSearchParams(window.location.search);
            const electionId = urlParams.get('electionId') || urlParams.get('election');

            if (!electionId) {
                showNoElectionMessage();
                return;
            }

            // Charger les détails de l'élection
            await loadElectionDetails(electionId);

            // Initialiser les gestionnaires d'événements
            initEventHandlers();
        });

        // Mettre à jour le message de bienvenue
        function updateUserWelcome() {
            const userProfile = JSON.parse(localStorage.getItem('userProfile') || '{}');

            if (userProfile && userProfile.prenom) {
                document.getElementById('userName').textContent = userProfile.prenom;
            }
        }

        // Masquer toutes les sections
        function hideAllSections() {
            document.getElementById('noElectionMessage').style.display = 'none';
            document.getElementById('candidatureHeader').style.display = 'none';
            document.getElementById('loadingState').style.display = 'none';
            document.getElementById('eligibilityAlert').style.display = 'none';
            document.getElementById('candidatureForm').style.display = 'none';
            document.getElementById('candidatesSection').style.display = 'none';
            document.getElementById('statusMessage').style.display = 'none';
        }

        // Afficher le message d'absence d'élection
        function showNoElectionMessage() {
            hideAllSections();
            document.getElementById('noElectionMessage').style.display = 'block';
        }

        // Charger les détails de l'élection
        async function loadElectionDetails(electionId) {
            showLoading();
            document.getElementById('loadingState').style.display = 'flex';

            try {
                // Charger les détails de l'élection
                currentElection = await ElectionService.getElectionDetails(electionId);

                if (!currentElection) {
                    throw new Error('Élection non trouvée');
                }

                // Mettre à jour l'interface avec les détails de l'élection
                updateElectionDetails(currentElection);

                // Vérifier l'éligibilité
                await checkEligibility(currentElection);

                // Charger les candidats de cette élection
                await loadElectionCandidates(currentElection.id);

            } catch (error) {
                console.error('Erreur chargement détails élection:', error);
                showToast('Impossible de charger les détails de l\'élection', 'error');
                showNoElectionMessage();
            } finally {
                hideLoading();
                document.getElementById('loadingState').style.display = 'none';
            }
        }

        // Mettre à jour les détails de l'élection dans l'interface
        function updateElectionDetails(election) {
            document.getElementById('electionTitle').textContent = `Candidature: ${election.titre}`;
            document.getElementById('electionSubtitle').textContent = `Poste de ${ElectionService.getDelegueTypeLabel(election.delegueType)} - ${ElectionService.getElectionTypeLabel(election.type)}`;
            document.getElementById('electionName').value = election.titre;

            // Afficher l'en-tête
            document.getElementById('candidatureHeader').style.display = 'block';
        }

        async function checkEligibility(election) {
            try {
                // Récupérer le profil utilisateur complet
                const userProfile = await UserService.getProfile();
                const userData = userProfile.data || userProfile;

                // Vérifier si déjà candidat
                const isAlreadyCandidate = await CandidateService.isCandidate(election.id);
                if (isAlreadyCandidate) {
                    showEligibilityError('Vous êtes déjà candidat à cette élection.');
                    return;
                }

                // Vérifier la période de candidature
                const status = ElectionService.getElectionStatus(election);
                if (status !== 'active') {
                    showEligibilityError('La période de candidature pour cette élection est terminée ou n\'a pas encore commencé.');
                    return;
                }

                // Vérifier l'éligibilité selon le type d'élection
                const isEligible = isStudentEligibleForElection(election, userData);
                if (!isEligible) {
                    const message = getEligibilityMessage(election, userData);
                    showEligibilityError(message);
                    return;
                }

                // Si éligible, afficher le formulaire
                showCandidatureForm();

            } catch (error) {
                console.error('Erreur vérification éligibilité:', error);
                showEligibilityError('Erreur lors de la vérification d\'éligibilité');
            }
        }

        // Vérifier si l'étudiant est éligible pour l'élection
        function isStudentEligibleForElection(election, studentInfo) {
            if (!studentInfo) return false;

            // Si l'élection est de type UNIVERSITE, tous les étudiants sont concernés
            if (election.type === 'UNIVERSITE') return true;

            // Si l'élection est de type ECOLE, vérifier l'école
            if (election.type === 'ECOLE') {
                return studentInfo.ecoleId && studentInfo.ecoleId.toString() === election.ecoleId.toString();
            }

            // Si l'élection est de type SALLE, vérifier l'école, la filière et l'année
            if (election.type === 'SALLE') {
                return studentInfo.ecoleId && studentInfo.ecoleId.toString() === election.ecoleId.toString() &&
                    studentInfo.filiereId && studentInfo.filiereId.toString() === election.filiereId.toString() &&
                    studentInfo.annee && studentInfo.annee.toString() === election.annee.toString();
            }

            return false;
        }

        // Obtenir le message d'éligibilité
        function getEligibilityMessage(election, studentInfo) {
            if (election.type === 'ECOLE') {
                return `Cette élection est réservée aux étudiants de l'école spécifique.`;
            }

            if (election.type === 'SALLE') {
                return `Cette élection est réservée aux étudiants de la même filière et année.`;
            }

            return 'Vous n\'êtes pas éligible pour cette élection.';
        }
        // Afficher le message d'erreur d'éligibilité
        function showEligibilityError(message) {
            hideAllSections();
            document.getElementById('candidatureHeader').style.display = 'block';
            document.getElementById('eligibilityAlert').style.display = 'block';
            document.getElementById('eligibilityMessage').textContent = message;
        }

        // Afficher le formulaire de candidature
        function showCandidatureForm() {
            hideAllSections();
            document.getElementById('candidatureHeader').style.display = 'block';
            document.getElementById('candidatureForm').style.display = 'block';
            document.getElementById('candidatesSection').style.display = 'block';
        }

        // Charger les candidats de l'élection
        async function loadElectionCandidates(electionId) {
            const container = document.getElementById('candidatesList');
            const loadingElement = document.getElementById('candidatesLoading');
            const emptyElement = document.getElementById('noCandidatesMessage');

            if (!container) return;

            loadingElement.style.display = 'flex';
            emptyElement.style.display = 'none';
            container.innerHTML = '';

            try {
                const response = await CandidateService.getCandidates(electionId);

                if (response && response.candidates && response.candidates.length > 0) {
                    electionCandidates = response.candidates;
                    renderCandidatesList(electionCandidates);
                } else {
                    showNoCandidates();
                }
            } catch (error) {
                console.error('Erreur chargement candidats:', error);
                showNoCandidates();
            } finally {
                loadingElement.style.display = 'none';
            }
        }

        // Afficher la liste des candidats
        function renderCandidatesList(candidates) {
            const container = document.getElementById('candidatesList');
            const emptyElement = document.getElementById('noCandidatesMessage');

            if (!container) return;

            if (!candidates || candidates.length === 0) {
                showNoCandidates();
                return;
            }

            emptyElement.style.display = 'none';

            container.innerHTML = `
                <div class="candidates-grid">
                    ${candidates.map(candidate =>
                CandidateCard.create(candidate, {
                    showProgram: true,
                    showViewProfile: true
                })
            ).join('')}
                </div>
            `;

            // Ajouter les événements de clic pour voir les détails
            attachCandidateEventHandlers();
        }

        // Afficher le message d'absence de candidats
        function showNoCandidates() {
            const container = document.getElementById('candidatesList');
            const emptyElement = document.getElementById('noCandidatesMessage');

            if (container && emptyElement) {
                container.innerHTML = '';
                emptyElement.style.display = 'block';
            }
        }

        // Attacher les gestionnaires d'événements aux candidats
        function attachCandidateEventHandlers() {
            // Gestionnaire pour les cartes de candidats
            document.querySelectorAll('.candidate-card').forEach(card => {
                card.addEventListener('click', function () {
                    const candidateId = this.dataset.candidateId;
                    const candidate = electionCandidates.find(c => c.id == candidateId);

                    if (candidate) {
                        showCandidateDetails(candidate);
                    }
                });
            });

            // Gestionnaire pour les liens "Voir profil"
            document.querySelectorAll('.view-program-link').forEach(link => {
                link.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const candidateId = this.dataset.candidateId;
                    const candidate = electionCandidates.find(c => c.id == candidateId);

                    if (candidate) {
                        showCandidateDetails(candidate);
                    }
                });
            });
        }

        // Afficher les détails d'un candidat
        function showCandidateDetails(candidate) {
            const modal = document.getElementById('candidateModal');
            const content = document.getElementById('candidateModalContent');

            if (!modal || !content) return;

            content.innerHTML = `
                <span class="close-modal" onclick="closeCandidateModal()">&times;</span>
                
                <div class="candidate-modal-header">
                    <img src="${candidate.photoUrl || 'https://via.placeholder.com/100'}" 
                         alt="${candidate.prenom} ${candidate.nom}" 
                         class="candidate-modal-image"
                         onerror="this.src='https://via.placeholder.com/100'">
                    <div class="candidate-modal-info">
                        <h2 class="candidate-modal-name">${candidate.prenom} ${candidate.nom}</h2>
                        <div class="candidate-modal-slogan">"${candidate.slogan}"</div>
                        <div>
                            <strong>${candidate.filiere || 'Non spécifié'}</strong> - 
                            Année ${candidate.annee || 'N/A'}
                        </div>
                    </div>
                </div>

                <div class="candidate-modal-section">
                    <h4><i class="fa-solid fa-book"></i> Programme électoral</h4>
                    <div class="candidate-modal-content-text">${candidate.programme || 'Aucun programme disponible'}</div>
                </div>

                <div class="candidate-modal-section">
                    <h4><i class="fa-solid fa-heart"></i> Motivation</h4>
                    <div class="candidate-modal-content-text">${candidate.motivation || 'Aucune motivation disponible'}</div>
                </div>
            `;

            modal.style.display = 'flex';
        }

        // Fermer la modale des détails du candidat
        function closeCandidateModal() {
            const modal = document.getElementById('candidateModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Initialiser les gestionnaires d'événements
        function initEventHandlers() {
            // Gestionnaire de formulaire
            document.getElementById('candidatureFormElement').addEventListener('submit', handleFormSubmit);

            // Gestionnaire d'annulation
            document.getElementById('cancelBtn').addEventListener('click', handleCancel);

            // Gestionnaire d'upload d'image
            initImageUploadHandlers();

            // Gestionnaire de la modale
            document.getElementById('candidateModal').addEventListener('click', function (e) {
                if (e.target === this) {
                    closeCandidateModal();
                }
            });
        }

        // Initialiser les gestionnaires d'upload d'image
        function initImageUploadHandlers() {
            const uploadArea = document.getElementById('uploadArea');
            const photoUpload = document.getElementById('photoUpload');
            const uploadPreview = document.getElementById('uploadPreview');
            const previewImage = document.getElementById('previewImage');
            const removeImage = document.getElementById('removeImage');

            if (!uploadArea || !photoUpload) return;

            uploadArea.addEventListener('click', () => {
                photoUpload.click();
            });

            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                if (e.dataTransfer.files.length > 0) {
                    handleImageUpload(e.dataTransfer.files[0]);
                }
            });

            photoUpload.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleImageUpload(e.target.files[0]);
                }
            });

            if (removeImage) {
                removeImage.addEventListener('click', () => {
                    uploadPreview.style.display = 'none';
                    uploadArea.style.display = 'block';
                    uploadedImageUrl = null;
                    photoUpload.value = '';
                });
            }
        }

        // Gérer l'upload d'image
        async function handleImageUpload(file) {
            const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg'];
            if (!allowedTypes.includes(file.type)) {
                showToast('Format de fichier non supporté. Utilisez JPG ou PNG.', 'error');
                return false;
            }

            if (file.size > 2 * 1024 * 1024) {
                showToast('L\'image ne doit pas dépasser 2MB.', 'error');
                return false;
            }

            showImageUploadLoading();

            try {
                const formData = new FormData();
                formData.append('image', file);

                const response = await fetch(`${API_URL}/api/upload/image`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${TOKEN}`
                    },
                    body: formData
                });

                const result = await response.json();

                if (result.success) {
                    uploadedImageUrl = result.url;

                    // Afficher l'aperçu
                    document.getElementById('previewImage').src = uploadedImageUrl;
                    document.getElementById('uploadPreview').style.display = 'block';
                    document.getElementById('uploadArea').style.display = 'none';

                    showToast('Image téléchargée avec succès', 'success');
                    return true;
                } else {
                    throw new Error(result.message || 'Erreur lors de l\'upload');
                }

            } catch (error) {
                console.error('Erreur upload:', error);
                resetImageUpload();
                showToast(error.message || 'Erreur lors du téléchargement de l\'image', 'error');
                return false;
            }
        }

        // Afficher le loading pendant l'upload
        function showImageUploadLoading() {
            const uploadArea = document.getElementById('uploadArea');
            if (uploadArea) {
                uploadArea.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: #666;">
                        <div class="loading-spinner" style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #d4af37; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
                        <div>Téléchargement en cours...</div>
                    </div>
                `;
            }
        }

        // Réinitialiser l'upload d'image
        function resetImageUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const uploadPreview = document.getElementById('uploadPreview');

            if (uploadArea) {
                uploadArea.innerHTML = `
                    <div class="upload-icon">
                        <i class="fa-solid fa-cloud-arrow-up"></i>
                    </div>
                    <div class="upload-text">Glissez-déposez votre photo ici ou cliquez pour sélectionner</div>
                    <div class="upload-hint">Formats acceptés: JPG, PNG (max. 2MB)</div>
                    <input type="file" id="photoUpload" accept="image/jpeg,image/png" style="display: none;">
                `;
                uploadArea.style.display = 'block';
            }

            if (uploadPreview) {
                uploadPreview.style.display = 'none';
            }

            // Réinitialiser les événements
            initImageUploadHandlers();
        }

        // Gérer la soumission du formulaire
        async function handleFormSubmit(e) {
            e.preventDefault();

            if (!validateForm()) {
                return;
            }

            showLoading();

            try {
                // Récupérer les informations utilisateur
                const userProfile = await UserService.getProfile();
                const userData = userProfile.data || userProfile;

                const formData = {
                    nom: userData.nom || '',
                    prenom: userData.prenom || '',
                    slogan: document.getElementById('slogan').value.trim(),
                    programme: document.getElementById('program').value.trim(),
                    motivation: document.getElementById('motivation').value.trim(),
                    photoUrl: uploadedImageUrl,
                    userId: userData.id || userData.userId,
                    electionId: currentElection.id,
                    statut: 'EN_ATTENTE'
                };

                const response = await CandidateService.submitCandidature(formData);

                if (response && response.success) {
                    showSuccessMessage();
                } else {
                    throw new Error(response?.message || 'Erreur lors de la soumission');
                }

            } catch (error) {
                console.error('Erreur soumission candidature:', error);
                showToast(error.message || 'Erreur lors de la soumission de la candidature', 'error');
            } finally {
                hideLoading();
            }
        }

        // Valider le formulaire
        function validateForm() {
            const slogan = document.getElementById('slogan').value;
            const program = document.getElementById('program').value;
            const motivation = document.getElementById('motivation').value;

            if (!uploadedImageUrl) {
                showToast('Veuillez uploader une photo de profil', 'error');
                return false;
            }

            if (!slogan || !program || !motivation) {
                showToast('Veuillez remplir tous les champs obligatoires', 'error');
                return false;
            }

            if (slogan.length > 100) {
                showToast('Le slogan ne doit pas dépasser 100 caractères', 'error');
                return false;
            }

            if (program.length < 50 || program.length > 2000) {
                showToast('Le programme doit contenir entre 50 et 2000 caractères', 'error');
                return false;
            }

            if (motivation.length < 100 || motivation.length > 1000) {
                showToast('La motivation doit contenir entre 100 et 1000 caractères', 'error');
                return false;
            }

            return true;
        }

        // Afficher le message de succès
        function showSuccessMessage() {
            hideAllSections();
            document.getElementById('statusMessage').style.display = 'block';
        }

        // Gérer l'annulation
        function handleCancel() {
            if (confirm('Êtes-vous sûr de vouloir annuler ? Toutes les modifications seront perdues.')) {
                window.location.href = `elections.html`;
            }
        }

        // Exposer les fonctions globales
        window.closeCandidateModal = closeCandidateModal;
    </script>
</body>

</html>